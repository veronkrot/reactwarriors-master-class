{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/MovieWillWatch.jsx","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","willWatch","_this2","_this$props","props","data","movie","addMovieToWillWatch","deleteMovieFromWillWatch","react_default","a","createElement","className","src","backdrop_path","poster_path","concat","alt","title","vote_average","id","type","onClick","setState","React","Component","MovieTabs","nextProps","nextState","nextContext","sort_by","updateSortBy","handleClick","value","getClassLink","MovieWillWatch","_ref","App","updateMoviesWillWatch","toConsumableArray","moviesWillWatch","push","filter","item","renderMoviesWillWatch","map","components_MovieWillWatch","key","movies","fetch","then","response","json","results","prevProps","prevState","componentDidMount","_this3","components_MovieTabs","components_MovieItem","length","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.b9827ce7.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass MovieItem extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            willWatch: false\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {movie: data, addMovieToWillWatch, deleteMovieFromWillWatch} = this.props;\r\n        let willWatch = this.state.willWatch;\r\n\r\n        const getImgSrc = () => {\r\n            if (data.backdrop_path === null ||\r\n                data.poster_path === null) {\r\n                return \"https://simrussia.com/wp-content/uploads/2018/04/no-image.jpg\"\r\n            } else {\r\n                return `https://image.tmdb.org/t/p/w500${data.backdrop_path ||\r\n                data.poster_path}`\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div className=\"card\">\r\n                <img\r\n                    className=\"card-img-top\"\r\n                    src={getImgSrc()}\r\n                    alt=\"\"\r\n                />\r\n                <div className=\"card-body\">\r\n                    <h6 className=\"card-title\">{data.title}</h6>\r\n                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                        <p className=\"mb-0\">Rating: {data.vote_average}</p>\r\n                            <button\r\n                                id={data.id}\r\n                                type=\"button\"\r\n                                className={willWatch ? \"btn btn-success\" : \"btn btn-info\"}\r\n                                onClick={() => {\r\n                                    this.setState({\r\n                                        willWatch: !willWatch\r\n                                    });\r\n                                    if (!willWatch) {\r\n                                        addMovieToWillWatch(data);\r\n                                    } else {\r\n                                        deleteMovieFromWillWatch(data);\r\n                                    }\r\n                                }}>\r\n                                {willWatch ? \"Remove Will Watch\" : \"Will Watch\"}\r\n                            </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MovieItem;\r\n","import React, {Component} from \"react\";\r\n\r\nclass MovieTabs extends Component {\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        return nextProps.sort_by !== this.props.sort_by;\r\n    }\r\n\r\n    render() {\r\n        const {sort_by, updateSortBy} = this.props;\r\n        const handleClick = value => () => {\r\n            updateSortBy(value);\r\n        };\r\n\r\n        const getClassLink = (value) => {\r\n            return `nav-link ${sort_by === value ? \"active\" : \"\"}`;\r\n        };\r\n\r\n        return (\r\n            <ul className=\"tabs nav nav-pills\">\r\n                <li className=\"nav-item\">\r\n                    <div className={getClassLink(\"popularity.desc\")}\r\n                         onClick={handleClick(\"popularity.desc\")}>\r\n                        Popularity desc\r\n                    </div>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <div className={getClassLink(\"revenue.desc\")}\r\n                         onClick={handleClick(\"revenue.desc\")}>\r\n                        Revenue desc\r\n                    </div>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <div className={getClassLink(\"vote_average.desc\")}\r\n                         onClick={handleClick(\"vote_average.desc\")}>\r\n                        Vote average desc\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MovieTabs;\r\n","import React from 'react';\r\n\r\nconst MovieWillWatch = ({movie}) => {\r\n        return (\r\n            <li className=\"list-group-item\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <p>{movie.title}</p>\r\n                    <p>{movie.vote_average}</p>\r\n                </div>\r\n            </li>\r\n        );\r\n};\r\n\r\nexport default MovieWillWatch;\r\n","import React from \"react\";\r\nimport {API_URL, API_KEY_3} from \"./../utils/api\"\r\nimport MovieItem from \"./MovieItem\";\r\nimport MovieTabs from \"./MovieTabs\";\r\nimport MovieWillWatch from \"./MovieWillWatch\";\r\n\r\nclass App extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            movies: [],\r\n            moviesWillWatch: [],\r\n            sort_by: \"popularity.desc\",\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(\r\n            `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}`\r\n        )\r\n            .then((response) => {\r\n            return response.json()\r\n        }).then((data) => {\r\n            this.setState({\r\n                movies: data.results\r\n            })\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if(prevState.sort_by !== this.state.sort_by){\r\n            this.componentDidMount()\r\n        }\r\n    }\r\n\r\n    addMovieToWillWatch = (movie) => {\r\n        const updateMoviesWillWatch = [...this.state.moviesWillWatch];\r\n            updateMoviesWillWatch.push(movie);\r\n            this.setState({\r\n                moviesWillWatch: updateMoviesWillWatch\r\n            });\r\n    };\r\n\r\n    deleteMovieFromWillWatch = (movie) => {\r\n        const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\r\n            item => item.id !== movie.id\r\n        );\r\n\r\n        this.setState({\r\n            moviesWillWatch: updateMoviesWillWatch\r\n        });\r\n    };\r\n\r\n    renderMoviesWillWatch = () => {\r\n        return this.state.moviesWillWatch.map(movie => (\r\n            <MovieWillWatch\r\n                movie={movie}\r\n                key={movie.id}\r\n            />\r\n        ))\r\n    };\r\n\r\n    updateSortBy = value => {\r\n        this.setState({\r\n            sort_by: value\r\n        });\r\n    };\r\n\r\n    render() {\r\n        return (<div className=\"container mt-6\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-9\">\r\n                        <div className=\"row mb-4\">\r\n                            <div className=\"col-12\">\r\n                                <MovieTabs sort_by={this.state.sort_by}\r\n                                           updateSortBy={this.updateSortBy}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            {this.state.movies.map(movie => {\r\n                                return (\r\n                                    <div className=\"col-6 mb-4\" key={`col-${movie.id}`}>\r\n                                        <MovieItem\r\n                                            key={`${movie.id}M`}\r\n                                            movie={movie}\r\n                                            addMovieToWillWatch={this.addMovieToWillWatch}\r\n                                            deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}/>\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-3\">\r\n                        <p>Will Watch: {this.state.moviesWillWatch.length}</p>\r\n                        <ul className=\"list-group\">\r\n                            {this.renderMoviesWillWatch()}\r\n                        </ul>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\r\n\r\nexport const API_KEY_4 = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIs\" +\r\n    \"InN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4\" +\r\n    \"pImdmNzDIfi_3Nb3tC4\";\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./styles.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}